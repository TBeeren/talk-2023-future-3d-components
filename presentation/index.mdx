import CodeSlide from 'spectacle-code-slide';

import './index.css';

import {R3FSlide, DarkSlide} from './slides';

import LandingPage from '../src/components/LandingPage';
import Cube from '../src/components/Cube'
import Ending from '../src/components/Ending'
import WebView from '../src/components/WebView'
import ConferenceIntro from '../src/components/ConferenceIntro'
import TwitterHandle from '../src/components/TwitterHandle'

<ConferenceIntro name="Frontmania 2023"/>
<TwitterHandle/>

<!--
Hi everyone! Thanks for being here!
-->

---

import twitter from '../assets/webp/twitter.jpg.webp'

<img src={twitter} style={{ width: '60vh' }} />

<!--
So a while ago I was bored so I started scrolling on Twitter or X or whatever?
While ignoring loads of tweets by Elon, this tweet caught my eye:
-->

---

import rug from '../assets/webp/small-rug.jpeg.webp'

<img src={rug} style={{ width: '80vh' }} />

<!--
This sad guy called Adam bought a carpet online, thinking it would be a big carpet.
However, after delivery founding out it was the perfect size to wipe his tears of disappointment.
-->

---

import rabbitHoles from '../assets/webp/rabbit_hole.png.webp'

<img src={rabbitHoles} style={{ width: '80vh' }} />

<!--
And well, I have to admit, that I've been having way to much joy diving into this rabbit hole of these issues.
-->

---

import reddit from '../assets/reddit.gif'

<img src={reddit} style={{ width: '80vh' }} />

<!--
And while scrolling through the comments of this tweet, I found a link into a sub-reddit where loads of people share their disappointing online purchases.
It mostly stood out to me that the problem is that big, that there is an entire community around it.

Because you know, whenever there will be a sub-reddit created for a specific thread - it's real.
-->

---

import cat from '../assets/webp/small-cat.jpeg.webp'

<img src={cat} style={{ width: '65vh' }} />

<!--
This little guy also looks really disappointed by his new toy.
-->

---

Raise your hand if this ever happened to you ‚úãüèº


---

# Expectations vs Reality
One of the biggest problems in online shopping

<!--
So this is a perfect example of how the expectation is different than the reality. And this is a big topic within online purchases.
Customers look at a couple pictures online, maybe a couple specifications and last but not least some reviews - and decide whether or not to buy it.

However, how do you really know what you've ordered?
-->

---

import reasons from '../assets/webp/reasons-of-return.png.webp'

<img src={reasons} style={{ width: '80vh' }} />

<!--
It's actually one of the primary reasons why people return their order - since the `product received looks different`.
-->

---

# How do we match the expectation?

<!--
So, how do we match the expectation to be closer to the reality?
-->

---

import closed from '../assets/webp/closed.jpg.webp'

<img src={closed} style={{ width: '80vh' }} />

<!--
So before getting to the real problem, let's go back to the start of 2020.
Covid started to spread, and loads of physical stored started to close down.
-->

---

import covid from '../assets/webp/impact_covid.jpeg.webp'

Impact of covid-19 on commerce

<img src={covid} style={{ width: '80%' }} />

<!--
Because of that, loads of niches were impacted.
In this graph we're seeing the impact of Covid-19 on the overall sales being made offline and online.
-->

---

import covidZoom1 from '../assets/webp/impact_covid_zoom1.jpeg.webp'

<img src={covidZoom1} style={{ width: '100%' }} />

<!--
In there you'll see that quite some grew such as supermarkets,
in which 100% is normal and the additional 60% was basically me buying toilet paper.
-->

---

import toiletpaper from '../assets/toiletpaper.gif'

<img src={toiletpaper} style={{ width: '60%' }} />

---

import covidZoom2 from '../assets/webp/impact_covid_zoom2.jpeg.webp'

<img src={covidZoom2} style={{ width: '100%' }} />

<!--
But more interestingly enough, are the ones that didn't do well. For tourism and entertainment we already know the reasons,
but let's look into the 3rd most affected, which is jewelry
-->

---

import watch from '../assets/webp/watch.jpeg.webp'

<img src={watch} style={{ width: '100%' }} />

<!--
Imagine having a big interest into expensive watches,
I'd like too see hands, who of you would dare to buy a piece of 2k online? üëãüèº
Haha alright, well this is basically the problem they encountered as well
-->

---

import cartier from '../assets/cartier.mp4'
import cartierLogo from '../assets/cartier_logo.svg'

<img src={cartierLogo} style={{ width: '20%', marginBottom: '20px' }} />

<video
  src={cartier}
  autoPlay
  loop
  style={{ width: '100%' }}
/>

<!--
Well, so because of this issue - Cartier had to be innovative. Due to Covid, customers could not see the time piece in the physical store,
so they started experimenting with 3D models to bring the expectation closer to the reality, which ended up gaining trust from their audience
which resulted in a boost of conversion and reduction in returns.
-->

---

import shopifyLogo from '../assets/shopify_logo.svg'
import shopifyAr from '../assets/webp/shopify_ar.jpeg.webp'

<img src={shopifyLogo} style={{ width: '20%', marginBottom: '20px'}} />
<img src={shopifyAr} style={{ width: '80%', display: 'block', margin: 'auto' }} />

<!--
Another example is Shopify. As they also saw this problem occurring from their clients using shopify as store.
So they created a feature for their Shopify+ members to add a 3D view of their product.
-->

---

import shopifyLogo from '../assets/shopify_logo.svg'
import dogs from '../assets/webp/shopify-dogs.png.webp'

<img src={shopifyLogo} style={{ width: '20%', marginBottom: '20px'}} />
<img src={dogs} style={{ width: '50%', display: 'block', margin: 'auto' }} />

<!--
One of the stores who tried this feature, was Gunner Kennels - which is known for their `Kennels`.
A research paper from Shopify shows how this 3D/AR feature reduced their returns by 5% and boosted conversions by 40%.
-->

---

# How does this work?

<!--
So this is cool right? It looks promising, so it sparked my curiosity into the real question
'How do we create these 3D components on the web?'
-->

---

import applePreview from '../assets/apple-preview.mp4'

<video
  src={applePreview}
  autoPlay
  loop
  style={{ width: '100%' }}
/>

<!--
So as a real researcher, I started by looking at our competitors.
And I have to confess, I‚Äôm one of these guys who goes quite often to the Apple website - not to buy an item -
but to look at their amazing web animations.

And so I did it again, to check how they do their 3d animations on scroll. Awesome, isn't it?
-->

---

import appleNetwork from '../assets/apple-network.mp4'

<video
  src={appleNetwork}
  autoPlay
  loop
  style={{ width: '100%' }}
/>

<!--
And surprisingly enough I found out that it‚Äôs not a real model,
but they‚Äôre rendering images on scroll - as you can see here in the networking tab.
-->

---

<!---
Apple Iphone 15 Example
-->

import iphone from '../assets/Iphone15.mp4'

<video
  src={iphone}
  autoPlay
  loop
  style={{ width: '80%' }}
/>

---

# GPU, WebGL and Vertices!

<!--
Let's talk about the tech!
-->

---

import triangles from '../assets/webp/triangles.png.webp'

<img src={triangles} style={{ width: '60%'}} />

---

import dolphin from '../assets/webp/dolphin.png.webp'

<img src={dolphin} style={{ width: '80%'}} />

---

import openGL from '../assets/webp/opengl.jpg.webp'

<img src={openGL} style={{ width: '80%', marginBottom: '20px'}} />

<!--
The CPU handles high-level JavaScript code and data preparation, while the GPU specializes in parallel processing to render complex graphics.
Shaders, written in GLSL, control the transformations and visual effects applied to vertices and fragments.

And since it's hard for the browser to detect whenever the GPU has to play a role, we can send instructions to the GPU using OpenGL.
For the web, WebGL has been created as library on OpenGL.
-->

---

# WebGL
The browser supports WebGL, which is an implementation of OpenGL, a low level graphics language.

<!--
So WebGL, how does it work? And is it easy to develop with?
-->

---

import WebGLExample from './code/webgl-hello-world.example'

export default (props) => (
  <>
  <CodeSlide
    {...props}
    lang="jsx"
    code={WebGLExample}
    ranges={[
      { loc: [0]},
      { loc: [0, 8],},
      { loc: [8, 15] },
      { loc: [16, 27] },
      { loc: [29, 32] },
      { loc: [37, 47] },
      { loc: [50, 65] },
      { loc: [88, 96] },
      { loc: [114, 124] },
      { loc: [132, 140] },
      { loc: [151, 153] },
      { loc: [157, 168] }
    ]}
  />
    <TwitterHandle credits={"JoshWComeau"}/>
  </>
)

<!--
So this is an Hello Worls example in vanilla WebGL.
And we're not gonna go through this code line by line, frankly I have no idea what is happening here.

But I just want to show you how much code it requires to create a hello world example.
-->

---

import webglTriangle from '../assets/webp/webgl-triangle.png.webp';

<img src={webglTriangle} style={{ width: '50%' }} />
<TwitterHandle credits={"JoshWComeau"}/>

<!--
And when running this, I expected this much of code to be something really cool once it is rendered in the browser.
However, turns out it just a simple 2 dimensional pink triangle.
-->

---

# Three.js

Three.js is a wrapper that makes WebGL manageable

<!--
So thankfully, we don't have to write vanilla WebGL - since developers created a library on top of WebGL called ThreeJS.
-->

---

import ThreeJsHelloWorld from './code/three-hello-world.example'
import mesh from '../assets/mesh.png'

export default (props) => (
  <CodeSlide
    {...props}
    lang="jsx"
    code={ThreeJsHelloWorld}
    ranges={[
      { loc: [0]},
      { loc: [0, 1] },
      { loc: [2, 8] },
      { loc: [8, 9] },
      { loc: [10, 13] },
      { loc: [14, 24] },
      { loc: [25, 30] },
      { loc: [25, 30] , image: mesh},
      { loc: [31, 35] },
      { loc: [31, 35] , image: mesh},
      { loc: [36, 41] },
      { loc: [42, 50] },
      { loc: [51, 53] },
      { loc: [54, 62] },
      { loc: [63, 64] },
    ]}
  />
)

<!--
So here is an hello world example within ThreeJS.

First, we'll have to create a scene. A scene is basically the 3d canvas.
Next, we'll create a camera. For this example a perspective camera which makes things that are further away appear smaller (as in real life).

We'll create a geometry, which you can see as a the representation of the shape - in this case - a cube of 1 by 1 by 1.
We also want to provide our geometry (the cube) with a appearance, and therefore we'll create a material.
For this example, we'll give it a solid color.

So now we have the geometry and the material, but we want to glue those together, so that our cube the color we just defined.
And to do this, we'll need a Mesh - followed by adding it to the scene.

Last but now least, we'll add some lighting to the scene. Since by default it will be dark.
And it would be sad to keep the lights turned off right?

Again, we'll add it to the scene to make it visual.
And we'll call the render loop, which will be called by the browser 60 times a second, to run on 60FPS.
-->

---

<R3FSlide>
  <Cube color={"#f79d00"}/>
</R3FSlide>

<!--
So once this will be rendered, we've made ourselves this beautiful rotating Cube!
And something remarkable here is the lighting bouncing off the object.
You might think, we can also do this with plain css right?

And that is true for a big part, however you won't get the reflections as nice as a 'real' 3d model.
Since the css animations are not a real 3d space.
-->

---

# React Three Fiber

`React renderer` for the Three.js elements we've seen.

<!--
Alright so, this is awesome right! Way easier to implement,
however it's still vanilla javascript - which is hard to combine with a modern library as React.

So this is where React Three Fiber comes into play.
And the cool thing is, React Three Fiber is a React renderer for ThreeJS.
-->

---

ReactDOM has `div`, `h1`‚Ä¶

ReactThreeFiber has `boxGeometry`, `ambientLight`‚Ä¶

<!--
And with a renderer I mean, that is already has loads of primitives to use.

So in the same way that ReactDOM has these known primitives such as div and h1,
ReactThreeFiber has boxGeometry and ambientLight, and way more.

And this makes the life of a developer way easier!
As you don't have to import every thing you have to use.
-->

---

import ReactThreeFiberExample from './code/r3f-hello-world.example'

export default (props) => (
  <CodeSlide
    {...props}
    lang="jsx"
    code={ReactThreeFiberExample}
    ranges={[
      { loc: [0]},
      { loc: [0, 5] },
      { loc: [6, 7] },
      { loc: [7, 11] },
      { loc: [12, 18] },
      { loc: [19, 20] },
      { loc: [20, 26] },
      { loc: [26, 30] },
      { loc: [30, 34] },
      { loc: [38, 39] },
      { loc: [39, 40] },
      { loc: [40, 41] },
      { loc: [41, 42] },
      { loc: [42, 45] },
      { loc: [45, 46] },
      { loc: [49, 50] },
    ]}
  />
)

<!--
So here is our final Hello World of the talk, but this time with React Three Fiber.
-->

---

<R3FSlide>
    <Cube/>
</R3FSlide>

<!--
And once again, here we have our awesome spinning cube!

So now you might think, well Tim Awesome!
Thanks for stealing 20 minutes of my life by showing me how to create a useless spinning cube!

However, it's not as useless as you might think haha.
Since the concepts we've covered with this example, already covers everything you'll need to know to create stunning 3D animations!

By simply changing your geometry of a cube into a model you've created in Blender or Cinema4D, you'll be able to showcase some awesome models.
-->

---

<DarkSlide>
  <WebView title={"R3F - Example Portals"} src={"https://codesandbox.io/embed/enter-portals-9m4tpc?fontsize=14&hidenavigation=1&theme=dark"}/>
</DarkSlide>
<TwitterHandle credits={"0xca0a"}/>

---

<DarkSlide>
  <WebView title={"R3F - Example Ping Pong Interaction"} src={"https://codesandbox.io/embed/ping-pong-0mgum?fontsize=14&hidenavigation=1&theme=dark"}/>
</DarkSlide>
<TwitterHandle credits={"0xca0a"}/>

---

<DarkSlide>
  <WebView title={"R3F - Example Bruno Simon"} src={"https://bruno-simon.com/"}/>
</DarkSlide>
<TwitterHandle credits={"bruno_simon"}/>

---

# Community

A complete ecosystem, developed and maintained by `PMNDRS`

---

import community from '../assets/webp/community.png.webp';

<img src={community} style={{ width: '60%' }} />

---

# React Three Drei

Component based `helpers/ hooks` to make development easier

---

# Scroll Controls
Creates a scrollable container in front of the canvas

---

<DarkSlide>
  <WebView title={"Drei - Example ScollControls"} src={"https://codesandbox.io/embed/m1-scrollcontrols-4m0d0?fontsize=14&hidenavigation=1&theme=dark"}/>
</DarkSlide>
<TwitterHandle credits={"0xca0a"}/>

---

# Gizmos
Helper to transform objects in 3D spaces

---

import gizmo from '../assets/gizmo.png';

<img src={gizmo} style={{ width: '90%' }} />

---

<DarkSlide>
  <WebView title={"Drei - Example PivotControls"} src={"https://codesandbox.io/embed/object-gizmo-controls-forked-9zy79h?fontsize=14&hidenavigation=1&theme=dark"}/>
</DarkSlide>
<TwitterHandle credits={"tim_beeren"}/>

---

# Performance
Hands-on tools to see how your application is performing

---

<R3FSlide>
    <LandingPage/>
</R3FSlide>
<TwitterHandle/>

---

<Ending/>
<TwitterHandle/>
